repeat
    while IsEven(x) do
        i +:= 1;
        x div:= 2;
    end while;
    if x eq 1 then
        break;
    end if;
    x := 3*x+1;
    i +:= 1;
until false;
