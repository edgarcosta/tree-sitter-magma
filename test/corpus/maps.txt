================================================================================
Basic map
================================================================================

map<A -> B | Graph>;

---

(program
  (expression_statement
    (constructor
      name: (identifier)
      (aggregate
        (two_tuple
          left: (identifier)
          right: (identifier)))
      (constructor_elements
        (identifier)))))

================================================================================
Partial map with complicated mapping rule
================================================================================

pmap<k -> Parent(f) | x :-> Evaluate(P!Eltseq(x),sigma)>;

---

(program
  (expression_statement
    (constructor
      name: (identifier)
      (aggregate
        (two_tuple
          left: (identifier)
          right: (call
            function: (identifier)
            arguments: (argument_list
              argument: (identifier)))))
      (constructor_elements
        (map_constructor
          domain_element: (identifier)
          image: (call
            function: (identifier)
            arguments: (argument_list
              argument: (binary_operator
                left: (identifier)
                right: (call
                  function: (identifier)
                  arguments: (argument_list
                    argument: (identifier))))
              argument: (identifier))))))))

================================================================================
Hom with several entries
================================================================================

hom<Mod -> N | W![3, 2, 1, 0], W![3*(M!F.1 + 1), 2*(M!F.1 + 1), M!F.1 + 1, 0] >;

---

(program
  (expression_statement
    (constructor
      name: (identifier)
      (aggregate
        (two_tuple
          left: (identifier)
          right: (identifier)))
      (constructor_elements
        (binary_operator
          left: (identifier)
          right: (aggregate
            (seqenum
              (integer)
              (integer)
              (integer)
              (integer))))
        (binary_operator
          left: (identifier)
          right: (aggregate
            (seqenum
              (binary_operator
                left: (integer)
                right: (parenthesized_expression
                  (binary_operator
                    left: (binary_operator
                      left: (identifier)
                      right: (binary_operator
                        left: (identifier)
                        right: (integer)))
                    right: (integer))))
              (binary_operator
                left: (integer)
                right: (parenthesized_expression
                  (binary_operator
                    left: (binary_operator
                      left: (identifier)
                      right: (binary_operator
                        left: (identifier)
                        right: (integer)))
                    right: (integer))))
              (binary_operator
                left: (binary_operator
                  left: (identifier)
                  right: (binary_operator
                    left: (identifier)
                    right: (integer)))
                right: (integer))
              (integer))))))))

================================================================================
Hom with several entries
================================================================================

hom<Domain(f) -> Codomain(g) | g :-> 1, h :-> Sqrt(2)/2>;

---

(program
  (expression_statement
    (constructor
      name: (identifier)
      (aggregate
        (two_tuple
          left: (call
            function: (identifier)
            arguments: (argument_list
              argument: (identifier)))
          right: (call
            function: (identifier)
            arguments: (argument_list
              argument: (identifier)))))
      (constructor_elements
        (map_constructor
          domain_element: (identifier)
          image: (integer))
        (map_constructor
          domain_element: (identifier)
          image: (binary_operator
            left: (call
              function: (identifier)
              arguments: (argument_list
                argument: (integer)))
            right: (integer)))))))

================================================================================
pmap with tuples
================================================================================

pmap< F -> Zm | <1, 1>, <z, 0>, <z^2, 4> >;

---

(program
  (expression_statement
    (constructor
      name: (identifier)
      (aggregate
        (two_tuple
          left: (identifier)
          right: (identifier)))
      (constructor_elements
        (aggregate
          (tuple
            (integer)
            (integer)))
        (aggregate
          (tuple
            (identifier)
            (integer)))
        (aggregate
          (tuple
            (binary_operator
              left: (identifier)
              right: (integer))
            (integer)))))))
